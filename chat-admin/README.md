# Chat Admin - æ™ºèƒ½å®¢æœç®¡ç†åå°

> **ç‰ˆæœ¬**: 1.0.0
> **çŠ¶æ€**: å¼€å‘ä¸­ ğŸš§

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

Chat Admin æ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„æ™ºèƒ½å®¢æœç®¡ç†åå°ç³»ç»Ÿï¼Œæä¾›å®Œæ•´çš„å®¢æœå·¥ä½œå°ã€ä¼šè¯ç®¡ç†ã€å®¢æˆ·ç®¡ç†å’Œæ•°æ®åˆ†æåŠŸèƒ½ã€‚

## ğŸ—ï¸ é¡¹ç›®æ¶æ„

```
chat-admin/
â”œâ”€â”€ frontend/          # React + TypeScript + Ant Design å‰ç«¯
â”œâ”€â”€ src/              # Node.js + Express åç«¯ API
â”œâ”€â”€ config/           # æ•°æ®åº“å’ŒæœåŠ¡é…ç½®
â”œâ”€â”€ scripts/          # æ•°æ®åº“è„šæœ¬å’Œå·¥å…·
â””â”€â”€ docs/            # é¡¹ç›®æ–‡æ¡£
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒè¦æ±‚

- Node.js >= 16.0.0
- MySQL >= 8.0
- Redis >= 6.0

### 2. å®‰è£…ä¾èµ–

```bash
# å®‰è£…åç«¯ä¾èµ–
npm install

# å®‰è£…å‰ç«¯ä¾èµ–
cd frontend && npm install
```

### 3. æ•°æ®åº“é…ç½®

```bash
# ç¡®ä¿ MySQL æœåŠ¡è¿è¡Œ
mysql.server start

# å¯¼å…¥æ•°æ®åº“ç»“æ„å’Œåˆå§‹æ•°æ®
npm run migrate
```

### 4. å¯åŠ¨å¼€å‘æœåŠ¡

```bash
# æ–¹å¼1: åŒæ—¶å¯åŠ¨å‰åç«¯
npm run dev

# æ–¹å¼2: åˆ†åˆ«å¯åŠ¨
npm run dev:backend   # åç«¯ API (ç«¯å£ 3004)
npm run dev:frontend  # å‰ç«¯ç•Œé¢ (ç«¯å£ 3005)
```

## ğŸŒ è®¿é—®åœ°å€

- **ç®¡ç†åå°**: http://localhost:3005
- **API æ–‡æ¡£**: http://localhost:3004/health
- **é»˜è®¤è´¦å·**: admin@chatadmin.com / admin123456

## ğŸ“Š å·²å®ŒæˆåŠŸèƒ½

### âœ… æ•°æ®åº“è®¾è®¡å’ŒåŸºç¡€è®¾æ–½

- [x] 10 ä¸ªæ ¸å¿ƒæ•°æ®è¡¨è®¾è®¡
- [x] MySQL æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
- [x] æ•°æ®ç´¢å¼•å’Œå¤–é”®çº¦æŸé…ç½®
- [x] é»˜è®¤æ•°æ®å’Œæµ‹è¯•è´¦å·

### âœ… åç«¯ API ç³»ç»Ÿ

- [x] Express.js RESTful API æ¶æ„
- [x] JWT è®¤è¯å’Œæƒé™æ§åˆ¶ç³»ç»Ÿ
- [x] ç”¨æˆ·ç®¡ç† CRUD æ“ä½œ
- [x] æ•°æ®åº“è¿æ¥æ± å’Œäº‹åŠ¡æ”¯æŒ
- [x] è¯·æ±‚éªŒè¯å’Œé”™è¯¯å¤„ç†

### âœ… å‰ç«¯ç•Œé¢æ¡†æ¶

- [x] React 18 + TypeScript é¡¹ç›®æ¶æ„
- [x] Ant Design ç»„ä»¶åº“é›†æˆ
- [x] è·¯ç”±å®ˆå«å’ŒçŠ¶æ€ç®¡ç† (Zustand)
- [x] ä¸»å¸ƒå±€å’Œå¯¼èˆªç³»ç»Ÿ
- [x] ç™»å½•é¡µé¢å’Œè®¤è¯æµç¨‹
- [x] å“åº”å¼è®¾è®¡é€‚é…

### âœ… è®¤è¯ç³»ç»Ÿ

- [x] JWT Token ç”Ÿæˆå’ŒéªŒè¯
- [x] ç”¨æˆ·ç™»å½•/ç™»å‡º API
- [x] Token è‡ªåŠ¨åˆ·æ–°æœºåˆ¶
- [x] åŸºäºè§’è‰²çš„æƒé™æ§åˆ¶ (RBAC)
- [x] å‰ç«¯è·¯ç”±å®ˆå«

## ğŸ› ï¸ å¼€å‘ä¸­åŠŸèƒ½

### ğŸ”„ ä¼šè¯ç®¡ç†

- [ ] å®æ—¶ä¼šè¯åˆ—è¡¨
- [ ] ä¼šè¯è¯¦æƒ…é¡µé¢
- [ ] AI/äººå·¥åˆ‡æ¢åŠŸèƒ½
- [ ] WebSocket å®æ—¶é€šä¿¡

### ğŸ”„ å®¢æˆ·ç®¡ç†

- [ ] å®¢æˆ·ä¿¡æ¯ç®¡ç†
- [ ] å®¢æˆ·æ ‡ç­¾ç³»ç»Ÿ
- [ ] å†å²ä¼šè¯è®°å½•

### ğŸ”„ æ•°æ®æŠ¥è¡¨

- [ ] å®æ—¶æ•°æ®ä»ªè¡¨æ¿
- [ ] å®¢æœç»©æ•ˆç»Ÿè®¡
- [ ] æ»¡æ„åº¦åˆ†æ

## ğŸ“ æ ¸å¿ƒæ–‡ä»¶ç»“æ„

```
chat-admin/
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/     # å…¬å…±ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/         # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ services/      # API æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ store/         # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ types/         # TypeScript ç±»å‹
â”‚   â”‚   â””â”€â”€ utils/         # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ public/            # é™æ€èµ„æº
â”‚   â””â”€â”€ package.json       # å‰ç«¯ä¾èµ–é…ç½®
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ controllers/       # API æ§åˆ¶å™¨
â”‚   â”œâ”€â”€ middleware/        # ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ models/           # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ routes/           # è·¯ç”±é…ç½®
â”‚   â””â”€â”€ services/         # ä¸šåŠ¡é€»è¾‘
â”œâ”€â”€ config/
â”‚   â””â”€â”€ database.js       # æ•°æ®åº“é…ç½®
â””â”€â”€ scripts/
    â””â”€â”€ init-database.js  # æ•°æ®åº“åˆå§‹åŒ–
```

## ğŸ”§ å¼€å‘å·¥å…·

### åç«¯æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: Express.js + Node.js
- **æ•°æ®åº“**: MySQL 8.0 + Redis
- **è®¤è¯**: JWT + bcrypt
- **éªŒè¯**: express-validator + Joi
- **æµ‹è¯•**: Jest + Supertest

### å‰ç«¯æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: React 18 + TypeScript
- **æ„å»º**: Vite
- **UI åº“**: Ant Design + Pro Components
- **çŠ¶æ€**: Zustand + React Query
- **è·¯ç”±**: React Router v6

## ğŸ“‹ å¯ç”¨è„šæœ¬

```bash
# å¼€å‘ç¯å¢ƒ
npm run dev              # å¯åŠ¨å‰åç«¯å¼€å‘æœåŠ¡
npm run dev:backend      # ä»…å¯åŠ¨åç«¯ API
npm run dev:frontend     # ä»…å¯åŠ¨å‰ç«¯ç•Œé¢

# ç”Ÿäº§ç¯å¢ƒ
npm start               # å¯åŠ¨åç«¯æœåŠ¡
npm run build           # æ„å»ºå‰ç«¯é™æ€æ–‡ä»¶

# æ•°æ®åº“
npm run migrate         # è¿è¡Œæ•°æ®åº“è¿ç§»
npm run seed           # æ’å…¥åˆå§‹æ•°æ®

# ä»£ç è´¨é‡
npm run lint           # ä»£ç æ£€æŸ¥
npm run test           # è¿è¡Œæµ‹è¯•
```

## ğŸ” API æµ‹è¯•

```bash
# å¥åº·æ£€æŸ¥
curl http://localhost:3004/health

# ç”¨æˆ·ç™»å½•
curl -X POST http://localhost:3004/api/v1/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email": "admin@chatadmin.com", "password": "admin123456"}'

# è·å–ç”¨æˆ·ä¿¡æ¯
curl http://localhost:3004/api/v1/auth/me \
  -H "Authorization: Bearer YOUR_TOKEN"
```

## ğŸš§ ä¸‹ä¸€æ­¥å¼€å‘è®¡åˆ’

1. **å®æ—¶é€šä¿¡** - WebSocket é›†æˆå’Œæ¶ˆæ¯å®æ—¶æ¨é€
2. **ä¼šè¯ç®¡ç†** - å®Œæ•´çš„ä¼šè¯åˆ—è¡¨å’Œè¯¦æƒ…é¡µé¢
3. **å®¢æˆ·ç³»ç»Ÿ** - å®¢æˆ·ä¿¡æ¯ç®¡ç†å’Œæ ‡ç­¾ç³»ç»Ÿ
4. **æ•°æ®æŠ¥è¡¨** - å›¾è¡¨ç»„ä»¶å’Œç»Ÿè®¡åˆ†æ
5. **ç§»åŠ¨é€‚é…** - PWA æ”¯æŒå’Œç§»åŠ¨ç«¯ä¼˜åŒ–

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜è¯·æŸ¥çœ‹:

- [API è®¾è®¡æ–‡æ¡£](../docs/CHAT_ADMIN_API_DESIGN.md)
- [æ•°æ®åº“è®¾è®¡æ–‡æ¡£](../docs/CHAT_ADMIN_DATABASE_DESIGN.md)
- [å¼€å‘è®¡åˆ’æ–‡æ¡£](../docs/TODO_chat-admin.md)

---

**é¡¹ç›®çŠ¶æ€**: ğŸŸ¡ æ ¸å¿ƒåŠŸèƒ½å¼€å‘ä¸­ | **è¿›åº¦**: 35% | **é¢„è®¡å®Œæˆ**: 2 å‘¨å†…

## ğŸ—„ï¸ æ•°æ®åº“è®¾è®¡

### æ ¸å¿ƒè¡¨ç»“æ„

1. **users** - å®¢æœäººå‘˜è¡¨
2. **customer_contacts** - å®¢æˆ·è”ç³»äººè¡¨
3. **conversations** - å¯¹è¯è¡¨
4. **messages** - æ¶ˆæ¯è¡¨
5. **inboxes** - æ”¶ä»¶ç®±/æ¸ é“è¡¨
6. **labels** - æ ‡ç­¾è¡¨
7. **teams** - å›¢é˜Ÿè¡¨
8. **conversation_events** - å¯¹è¯äº‹ä»¶è¡¨

### æ•°æ®åº“è¿æ¥é…ç½®

```env
DB_HOST=localhost
DB_PORT=3306
DB_NAME=chat_admin
DB_USER=root
DB_PASSWORD=123456
```

## ğŸ”— ç›¸å…³é¡¹ç›®

- [chat-ui](../chat-ui/) - å‰ç«¯èŠå¤©ç•Œé¢
- [chat-core](../chat-core/) - æ¶ˆæ¯ç½‘å…³æœåŠ¡
- [ai-service](../ai-service/) - AI æœåŠ¡å°è£…
- [chat-session](../chat-session/) - ä¼šè¯ç®¡ç†

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

---

**ä¸‹ä¸€æ­¥å¼€å‘è®¡åˆ’**: å®ç°ç”¨æˆ·ç®¡ç†åŠŸèƒ½å’Œå¯¹è¯ç®¡ç†ç³»ç»Ÿ

## ğŸ¯ API ç«¯ç‚¹

### è®¤è¯æ¥å£

- `POST /api/v1/auth/login` - ç”¨æˆ·ç™»å½•
- `POST /api/v1/auth/refresh` - åˆ·æ–°ä»¤ç‰Œ
- `POST /api/v1/auth/logout` - ç”¨æˆ·ç™»å‡º
- `GET /api/v1/auth/me` - è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯
- `PUT /api/v1/auth/profile` - æ›´æ–°ç”¨æˆ·èµ„æ–™
- `PUT /api/v1/auth/password` - ä¿®æ”¹å¯†ç 
- `POST /api/v1/auth/register` - æ³¨å†Œæ–°ç”¨æˆ·ï¼ˆç®¡ç†å‘˜ï¼‰

### ç³»ç»Ÿæ¥å£

- `GET /health` - å¥åº·æ£€æŸ¥
